<!DOCTYPE html>
<html>
<head>
<title>PPC|test le jeu</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link href="../layout/styles/layout.css" rel="stylesheet" type="text/css" media="all">
</head>
<body id="top">
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<div class="wrapper row0">
  <div id="topbar" class="hoc clear"> 
    <!-- ################################################################################################ -->
    <div class="fl_left">
      <ul class="faico clear">
        <li><a class="faicon-facebook" href="https://fr-fr.facebook.com/JMLP.officiel/"><i class="fa fa-facebook"></i></a></li>
        <li><a class="faicon-twitter" href="https://twitter.com/elonmusk"><i class="fa fa-twitter"></i></a></li>
      </ul>
    </div>
  </div>
</div>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- Top Background Image Wrapper -->
  <!-- ################################################################################################ -->
  <div class="wrapper row1">
    <header id="header" class="hoc clear"> 
      <!-- ################################################################################################ -->
      <div id="logo" class="fl_left">
        <h1><a href="full-width.html">Le jeu</a></h1>
      </div>
      <nav id="mainav" class="fl_right">
        <ul class="clear">
          <li><a href="../index.html">Accueil</a></li>
          <li class="active"><a class="drop" href="#">Pages</a>
            <ul>
              <li><a href="gallery.html">Gallerie</a></li>
              <li class="active"><a href="full-width.html">Test le jeu !!</a></li>
      </nav>
      <!-- ################################################################################################ -->
    </header>
  </div>
  <!-- ################################################################################################ -->
  <!-- ################################################################################################ -->
  <!-- ################################################################################################ -->
  <div class="wrapper row2">
    <div id="breadcrumb" class="hoc clear"> 
      <!-- ################################################################################################ -->
      <!-- ################################################################################################ -->
    </div>
  </div>
  <!-- ################################################################################################ -->
</div>
<!-- End Top Background Image Wrapper -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<h4>pierre - papier - ciseaux</h4>
  <button type="button" class="PFC_btn" value="0" >
    <img src="../images/demo/pierre.jpg" alt="pierre" width="50px" height="50px" /></button>
  <button type="button" class="PFC_btn" value="1" >
    <img src="../images/demo/papier.jpg" alt="feuille" width="50px" height="50px" /></button>
  </button>
  <button type="button" class="PFC_btn" value="2" >
    <img src="../images/demo/ciseaux.jpg" alt="ciseaux" width="50px" height="50px"  /></button>
  </button>
  <br></br>
  <br></br>
  <br></br>
  <br></br>
  <br></br>
<p>Jouez :</p>
<div id="PFC_show_result"></div>
<script type='text/Javascript'>

var PFC = {
	init:function(){
		this.equal = "égalité";
		this.win = "gagné";
		this.lose = "perdu";
		this.txt_equal = "égalité";
		this.txt_win = "Vous gagnez !";
		this.txt_lose = "Vous avez perdu.";
 
		this.my_point = 0;
		this.ia_point = 0;
		this.count = 0;
		this.bet = ['pierre', 'feuille', 'ciseaux'];
 
		this.show_result = document.getElementById('PFC_show_result');
		this.show_result.innerHTML = '';
		this.txt_result = '';
	},
	play:function( player_bet ){
		var i = Number(player_bet);
		var j = Math.floor(Math.random() * 3); // 0, 1 or 2
 
		if (this.my_point < 3 && this.ia_point < 3)  // il faut 3 victoires
		{
			this.show_result.innerHTML += this.score(i,j);
      this.count++;
		}
 
		if ( (this.my_point >= 3 || this.ia_point >= 3) && this.txt_result == '' )  // on a 3 victoires
		{
			this.show_result.innerHTML += this.result(this.my_point,this.ia_point);
		}
	},
	score:function(i,j) {
		var txtHTML = '';
		txtHTML += "(vous) <b>" + this.bet[i] + "</b> - (IA) <b>" + this.bet[j] + "</b> : ";
 
		if (i === j) {
			txtHTML += this.equal + "<br />";
		} else if ((i == 0 && j == 2) || (i == 1 && j == 0) || (i == 2 && j == 1)) {
			txtHTML += "<b>" + this.win + "</b><br />";
			this.my_point++;
		} else {
			txtHTML += this.lose + "<br />";
			this.ia_point++;
		}
		txtHTML += "Score : " + this.my_point + " - " + this.ia_point + "<br />";
		return txtHTML;
	},
	result:function(my_point,ia_point) {
		var txtHTML = '';
		if( this.my_point==this.ia_point ){
			this.txt_result = this.txt_equal;
		} else if( this.my_point>this.ia_point ){
			this.txt_result = this.txt_win;
		} else {
			this.txt_result = this.txt_lose;
		}
		txtHTML += "<h4>Résultat final (en "+this.count+" coups) : <b>"+this.txt_result+"</b></h4>";
		txtHTML += "<button type=\"button\" class=\"PFC_btn_replay\">Rejouer ?</button><br />";
		return txtHTML;
	},
	reset:function() {
		this.txt_result = '';
		this.show_result.innerHTML = '';
		this.my_point = 0;
		this.ia_point = 0;
		this.count = 0;
	}
}

var PFC1 = Object.create(PFC);
document.body.onload = function(){
	PFC1.init();
	var PFC_btns = document.querySelectorAll('.PFC_btn');
	PFC_btns.forEach(function(PFC_btn) {
		PFC_btn.addEventListener('click', function() {
			PFC1.play(PFC_btn.value);
		}, false);
	});
};

document.body.addEventListener( 'click', function ( event ) {
	if( event.target.className == 'PFC_btn_replay' ) {
		PFC1.reset();
	};
});

</script>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<div class="wrapper row4">
  <footer id="footer" class="hoc clear"> 
    <div class="one_quarter first">
      <h6 class="title">Adresse </h6>
      <address class="btmspace-30">
      Rue de Burhaimont 11
      <br> Bertrix<br>
      6880
      </address>
      <ul class="nospace">
        <li class="btmspace-10"><i class="fa fa-phone"></i>Tel.: 061 41 00 10</li>
        <li class="btmspace-10"><i class="fa fa-phone"></i>Fax: 061 41 00 19</li>
        <li><i class="fa fa-envelope-o"></i> E-mail: indbertrix@skynet.be</li>
      </ul>
    </div>
  </footer>
</div>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<a id="backtotop" href="#top"><i class="fa fa-chevron-up"></i></a>
<!-- JAVASCRIPTS -->
<script src="../layout/scripts/jquery.min.js"></script>
<script src="../layout/scripts/jquery.backtotop.js"></script>
<script src="../layout/scripts/jquery.mobilemenu.js"></script>
</body>
</html>